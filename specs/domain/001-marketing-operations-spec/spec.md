<!--
Domain Specification Report
===========================
Spec: 001-marketing-operations-spec v0.3.0 | Clean SDS (Structure Only)
Date: 2025-11-17

Summary:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Entities: 9 | Rules: 45
Status: Draft (Development Phase)

Core Entities:
• Project: Brand identity, voice, value propositions
• Product: Feature offerings, positioning
• MarketingPlan: Strategic planning, objectives, budget, KPIs
• Campaign: Marketing activities with goals, budgets, timelines
• Channel: Distribution platforms (social, email, blog)
• Tool: MCP/API integrations for automation
• ContentTemplate: Brand guidelines and constraints
• Milestone: Release events and timeline markers
• Analytics: Performance tracking and optimization recommendations

Note: This is a domain specification (SDS) defining specification structure only.
Toolkit commands are defined separately in specs/toolkit/ (SDD).

Impact:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Created: specs/domain/001-marketing-operations-spec/spec.md
Dependencies: None (root specification)
Related Files: memory/constitution.md (Part II: Specification Design Principles)

Constitution Compliance:
✅ Entity Clarity: All 9 entities with complete schemas, types, examples
✅ Validation Completeness: 45 validation rules documented
✅ Relationship Clarity: Entity relationships and dependencies defined
✅ Implementation Neutrality: Platform-agnostic, supports MCP/API/manual
✅ Extensibility Design: Version 0.3.0, extensible enums, free-form config
✅ Domain Fidelity: Marketing standards (ROAS, CTR, CPM, AIDA funnel)

Regenerated by: MetaSpec v0.7.3 (SDS/SDD separation)
-->

---
specification_id: "001-marketing-operations-spec"
specification_version: "0.3.0"
specification_status: "draft"
domain: "marketing_operations"
generated_by: "MetaSpec v0.7.3"
generated_date: "2025-11-17"
breaking_changes: true
---

# Marketing Operations Specification

**Version**: 0.3.0  
**Status**: Draft (Development Phase)  
**Domain**: Marketing Operations  
**Last Updated**: 2025-11-17  
**Note**: API unstable during 0.x development phase

---

## Overview

### Purpose

The **Marketing Operations Specification** defines a standardized data structure for managing marketing activities, content creation, channel distribution, and campaign execution. This specification enables:

1. **Structured Campaign Definition**: Define marketing campaigns with clear goals, budgets, timelines, and target audiences
2. **Brand Consistency**: Maintain consistent brand voice and guidelines across all marketing materials
3. **Strategic Planning**: Link tactical campaigns to strategic marketing plans with measurable KPIs
4. **Performance Analytics**: Track campaign performance and optimization recommendations
5. **Tool Integration**: Support MCP-first automation for scheduling, publishing, and analytics

### Problem Statement

Open source projects and product teams face challenges in:
- **Inconsistent Branding**: Marketing materials lack unified voice and style
- **Ad-hoc Campaign Management**: No structured approach to planning and tracking campaigns
- **Unclear Strategic Alignment**: Campaigns disconnected from business objectives
- **Poor Performance Tracking**: Difficulty measuring campaign effectiveness
- **Tool Fragmentation**: Marketing tools don't work together seamlessly

This specification solves these problems by providing a declarative, spec-driven data structure for marketing operations.

### Target Users

- **Marketing Teams**: Require structured campaign management and performance tracking
- **Open Source Project Maintainers**: Need to promote projects and attract contributors
- **Product Teams**: Seek standardized marketing workflow execution
- **AI Agents**: Automated tools that create and manage marketing content based on specifications

---

## Glossary

- **Project**: Top-level entity representing a product, service, or initiative with its brand identity
- **Product**: Specific feature, offering, or component within a Project
- **MarketingPlan**: Strategic planning document with objectives, budget allocation, and KPIs
- **Campaign**: Time-bound marketing activity with defined goals, budget, and target audience
- **Channel**: Distribution platform or medium (e.g., Twitter, Reddit, Email, Blog)
- **Tool**: MCP server or REST API integration for automating marketing tasks
- **ContentTemplate**: Brand guidelines, style rules, and content constraints
- **Milestone**: Significant event or release that triggers marketing activities
- **Analytics**: Performance tracking and AI-powered optimization recommendations
- **MCP (Model Context Protocol)**: Prioritized integration method for tool automation

### Marketing Metrics

- **CTR (Click-Through Rate)**: Percentage of users who click on content (industry avg: 2-5%)
- **CPM (Cost Per Mille)**: Cost per 1000 impressions (typical social media: $5-15)
- **ROAS (Return on Ad Spend)**: Revenue generated per dollar spent (good: 3:1 or higher)
- **CPC (Cost Per Click)**: Cost per individual click on content

---

## Core Entities

### Entity: Project

**Purpose**: Represents the top-level brand identity, mission, and core values for a product, service, or initiative.

**Schema**:

```yaml
project:
  name:
    type: string
    required: true
    description: Official project name
    example: "MetaSpec"
  
  tagline:
    type: string
    required: true
    max_length: 100
    description: Short, memorable one-line description
    example: "Specification-Driven Development for GenAI Era"
  
  brand_voice:
    type: string
    required: true
    enum: ["Technical", "Friendly", "Professional", "Casual", "Educational"]
    description: Primary brand personality archetype
  
  website:
    type: string
    required: false
    format: url
    description: Project website URL
  
  target_audience:
    type: array[string]
    required: true
    min_items: 1
    max_items: 5
    description: Primary audience segments
    example: ["Developers", "AI Engineers", "Open Source Maintainers"]
  
  value_propositions:
    type: array[string]
    required: true
    min_items: 1
    max_items: 5
    description: Key value propositions (1-2 sentences each)
  
  logo_url:
    type: string
    required: false
    format: url
    description: URL to project logo image
  
  social_handles:
    type: object
    required: false
    description: Social media handles
    properties:
      twitter: string
      github: string
      linkedin: string
      discord: string
```

**Validation Rules**: VR-P01 to VR-P06 (see Validation Rules section)

**Example**:

```yaml
project:
  name: "MetaSpec"
  tagline: "Specification-Driven Development for GenAI Era"
  brand_voice: "Technical"
  website: "https://metaspec.dev"
  target_audience:
    - "Developers"
    - "AI Engineers"
  value_propositions:
    - "Transform specifications into production-ready code"
    - "AI-assisted development with best practices"
```

---

### Entity: Product

**Purpose**: Represents a specific feature, offering, or component within a Project.

**Schema**:

```yaml
product:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique product identifier
  
  name:
    type: string
    required: true
    description: Product name
  
  description:
    type: string
    required: true
    max_length: 500
    description: Product description
  
  project_id:
    type: string
    required: true
    description: Parent Project identifier
  
  target_audience:
    type: array[string]
    required: true
    description: Specific audience segments for this product
  
  key_features:
    type: array[string]
    required: false
    max_items: 10
    description: List of key features
  
  positioning:
    type: string
    required: false
    description: Market positioning statement
  
  launch_date:
    type: string
    required: false
    format: date
    description: Product launch date
```

**Validation Rules**: VR-PR01 to VR-PR05 (see Validation Rules section)

**Example**:

```yaml
product:
  id: "speckit-generator"
  name: "Speckit Generator"
  description: "Generate domain-specific specification toolkits"
  project_id: "metaspec"
  target_audience: ["Developers", "Tool creators"]
  key_features:
    - "One-command speckit generation"
    - "Built-in MetaSpec commands"
  launch_date: "2025-11-15"
```

---

### Entity: MarketingPlan

**Purpose**: Strategic marketing planning document with objectives, budget allocation, and measurable KPIs.

**Schema**:

```yaml
plan:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique plan identifier
  
  name:
    type: string
    required: true
    description: Plan name
  
  project_id:
    type: string
    required: true
    description: Associated Project identifier
  
  period:
    type: object
    required: true
    description: Time period for this plan
    properties:
      start_date:
        type: string
        format: date
        required: true
      end_date:
        type: string
        format: date
        required: true
      weeks:
        type: number
        minimum: 4
        maximum: 52
        description: Duration in weeks (4-52)
  
  objectives:
    type: array[object]
    required: true
    min_items: 1
    max_items: 5
    description: Strategic objectives (1-5)
    items:
      text:
        type: string
        required: true
        description: Objective description
      priority:
        type: string
        enum: ["P0", "P1", "P2"]
        required: true
  
  target_audience:
    type: array[object]
    required: true
    min_items: 1
    description: Target audience segments
    items:
      segment:
        type: string
        required: true
      priority:
        type: string
        enum: ["primary", "secondary", "tertiary"]
        required: true
  
  strategies:
    type: array[string]
    required: true
    min_items: 1
    max_items: 8
    description: Marketing strategies (1-8)
  
  budget:
    type: object
    required: true
    properties:
      total:
        type: number
        minimum: 0
        required: true
      allocation:
        type: array[object]
        required: true
        items:
          category:
            type: string
            required: true
          amount:
            type: number
            minimum: 0
            required: true
  
  kpis:
    type: array[object]
    required: true
    min_items: 1
    max_items: 10
    description: Key performance indicators (1-10)
    items:
      metric:
        type: string
        required: true
      target:
        type: number
        required: true
      priority:
        type: string
        enum: ["P0", "P1", "P2"]
        required: true
  
  campaign_ids:
    type: array[string]
    required: false
    description: Associated Campaign identifiers
  
  status:
    type: string
    required: true
    enum: ["draft", "review", "approved", "active", "completed", "archived"]
```

**Validation Rules**: VR-PLAN-01 to VR-PLAN-05 (see Validation Rules section)

**Example**:

```yaml
plan:
  id: "q1-2025-growth"
  name: "Q1 2025 Developer Growth Plan"
  project_id: "metaspec"
  period:
    start_date: "2025-01-15"
    end_date: "2025-03-31"
    weeks: 11
  objectives:
    - text: "Grow GitHub stars from 50 to 500"
      priority: "P0"
  target_audience:
    - segment: "Senior Developers"
      priority: "primary"
  strategies:
    - "Technical content marketing"
    - "Community-driven growth"
  budget:
    total: 10000.0
    allocation:
      - category: "Content Creation"
        amount: 2000.0
  kpis:
    - metric: "GitHub Stars"
      target: 500
      priority: "P0"
  status: "approved"
```

---

### Entity: Campaign

**Purpose**: Time-bound marketing activity with defined goals, budget, target audience, and measurable outcomes.

**Schema**:

```yaml
campaign:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique campaign identifier
  
  name:
    type: string
    required: true
    description: Campaign name
  
  goal:
    type: string
    required: true
    enum: ["awareness", "consideration", "conversion", "retention"]
    description: Marketing funnel goal
  
  project_id:
    type: string
    required: true
    description: Associated Project identifier
  
  plan_id:
    type: string
    required: true
    description: Parent MarketingPlan identifier (NEW in v0.2.0 - REQUIRED)
  
  product_ids:
    type: array[string]
    required: false
    description: Associated Product identifiers
  
  target_audience:
    type: array[string]
    required: true
    description: Target audience segments
  
  budget:
    type: number
    required: true
    minimum: 0
    description: Campaign budget
  
  start_date:
    type: string
    required: true
    format: date
    description: Campaign start date
  
  end_date:
    type: string
    required: true
    format: date
    description: Campaign end date
  
  channels:
    type: array[string]
    required: true
    min_items: 1
    description: Distribution channels
  
  kpis:
    type: object
    required: false
    description: Campaign-specific KPIs
  
  expected_kpis:
    type: object
    required: false
    description: Expected KPI values (NEW in v0.2.0)
  
  content_calendar:
    type: array[object]
    required: false
    description: Content publishing schedule (NEW in v0.2.0)
  
  status:
    type: string
    required: true
    enum: ["draft", "planned", "active", "paused", "completed", "archived"]
```

**Validation Rules**: VR-C01 to VR-C11 (see Validation Rules section)

**Example**:

```yaml
campaign:
  id: "q1-foundation"
  name: "Foundation Phase - Content & Community"
  goal: "awareness"
  project_id: "metaspec"
  plan_id: "q1-2025-growth"
  target_audience: ["Senior Developers"]
  budget: 2000.0
  start_date: "2025-01-15"
  end_date: "2025-02-04"
  channels: ["blog", "github", "discord"]
  status: "planned"
```

---

### Entity: Channel

**Purpose**: Distribution platform or medium with specific content constraints and audience characteristics.

**Schema**:

```yaml
channel:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique channel identifier
  
  name:
    type: string
    required: true
    description: Channel name
  
  type:
    type: string
    required: true
    enum: ["social_media", "email", "blog", "forum", "video", "podcast"]
    description: Channel type
  
  platform:
    type: string
    required: true
    description: Platform name (e.g., "twitter", "dev.to", "reddit")
  
  audiences:
    type: array[string]
    required: true
    description: Primary audiences on this channel
  
  content_types:
    type: array[string]
    required: true
    description: Supported content types
  
  constraints:
    type: object
    required: false
    description: Platform-specific constraints
  
  tool_id:
    type: string
    required: false
    description: Associated Tool for automation
```

**Validation Rules**: VR-CH01 to VR-CH06 (see Validation Rules section)

**Example**:

```yaml
channel:
  id: "twitter"
  name: "Twitter (@metaspec)"
  type: "social_media"
  platform: "twitter"
  audiences: ["Developers", "AI Engineers"]
  content_types: ["short_text", "images"]
  constraints:
    max_text_length: 280
    max_hashtags: 5
```

---

### Entity: Tool

**Purpose**: MCP server or REST API integration for automating marketing tasks.

**Schema**:

```yaml
tool:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique tool identifier
  
  name:
    type: string
    required: true
    description: Tool name
  
  type:
    type: string
    required: true
    enum: ["mcp", "rest_api", "cli"]
    description: Integration type (MCP preferred)
  
  purpose:
    type: string
    required: true
    description: Tool purpose
  
  connection:
    type: object
    required: true
    description: Connection details
    properties:
      # MCP server
      server_name: string (if type=mcp)
      # REST API
      base_url: string (if type=rest_api)
      auth_type: string (if type=rest_api)
      # CLI
      command: string (if type=cli)
  
  supported_operations:
    type: array[string]
    required: true
    description: Operations this tool supports
  
  rate_limits:
    type: object
    required: false
    description: API rate limits
  
  cost_per_operation:
    type: object
    required: false
    description: Operation costs
```

**Validation Rules**: VR-T01 to VR-T06 (see Validation Rules section)

**Example**:

```yaml
tool:
  id: "twitter-mcp"
  name: "Twitter MCP Server"
  type: "mcp"
  purpose: "Post tweets and track engagement"
  connection:
    server_name: "mcp-twitter"
  supported_operations: ["post_tweet", "get_metrics"]
```

---

### Entity: ContentTemplate

**Purpose**: Brand guidelines, style rules, and content constraints to ensure consistent voice and quality.

**Schema**:

```yaml
content_template:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique template identifier
  
  name:
    type: string
    required: true
    description: Template name
  
  type:
    type: string
    required: true
    enum: ["social_post", "blog_article", "email", "landing_page", "video_script"]
    description: Content type
  
  tone:
    type: string
    required: true
    enum: ["technical", "friendly", "professional", "casual", "educational"]
    description: Content tone
  
  style_guidelines:
    type: array[string]
    required: true
    description: Style rules and best practices
  
  project_id:
    type: string
    required: true
    description: Associated Project identifier
  
  constraints:
    type: object
    required: false
    description: Content constraints
    properties:
      min_length: number
      max_length: number
      required_sections: array[string]
      forbidden_words: array[string]
  
  examples:
    type: array[string]
    required: false
    description: Example content URLs
```

**Validation Rules**: VR-CT01 to VR-CT05 (see Validation Rules section)

**Example**:

```yaml
content_template:
  id: "technical-blog-post"
  name: "Technical Blog Post Template"
  type: "blog_article"
  tone: "technical"
  style_guidelines:
    - "Use code examples to illustrate concepts"
    - "Define technical terms on first use"
  project_id: "metaspec"
  constraints:
    min_length: 800
    max_length: 3000
```

---

### Entity: Milestone

**Purpose**: Significant event or release that may trigger marketing activities.

**Schema**:

```yaml
milestone:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique milestone identifier
  
  name:
    type: string
    required: true
    description: Milestone name
  
  type:
    type: string
    required: true
    enum: ["version_release", "announcement", "community_event", "partnership"]
    description: Milestone type
  
  date:
    type: string
    required: true
    format: date
    description: Milestone date
  
  description:
    type: string
    required: true
    description: Milestone description
  
  project_id:
    type: string
    required: true
    description: Associated Project identifier
  
  product_ids:
    type: array[string]
    required: false
    description: Associated Product identifiers
  
  campaign_ids:
    type: array[string]
    required: false
    description: Marketing campaigns for this milestone
  
  status:
    type: string
    required: true
    enum: ["planned", "completed", "cancelled"]
```

**Validation Rules**: VR-M01 to VR-M05 (see Validation Rules section)

**Example**:

```yaml
milestone:
  id: "v060-release"
  name: "MetaSpec v0.6.0 Release"
  type: "version_release"
  date: "2025-11-14"
  description: "Major release with SDS/SDD commands"
  project_id: "metaspec"
  status: "completed"
```

---

### Entity: Analytics

**Purpose**: Performance tracking and AI-powered optimization recommendations based on actual campaign results.

**Schema**:

```yaml
analytics:
  id:
    type: string
    required: true
    pattern: "^[a-z0-9-]+$"
    description: Unique analytics report identifier
  
  type:
    type: string
    required: true
    enum: ["campaign", "plan"]
    description: Analysis type
  
  entity_id:
    type: string
    required: true
    description: Campaign or Plan identifier
  
  period:
    type: object
    required: true
    description: Analysis time period
    properties:
      start_date:
        type: string
        format: date
        required: true
      end_date:
        type: string
        format: date
        required: true
  
  metrics:
    type: object
    required: true
    description: Actual performance metrics
  
  vs_target:
    type: object
    required: false
    description: Actual vs target comparison
  
  insights:
    type: array[object]
    required: true
    description: AI-generated insights
    items:
      category:
        type: string
        enum: ["success", "concern", "opportunity"]
        required: true
      insight:
        type: string
        required: true
      evidence:
        type: string
        required: true
  
  optimizations:
    type: array[object]
    required: true
    description: Optimization recommendations
    items:
      recommendation:
        type: string
        required: true
      priority:
        type: string
        enum: ["high", "medium", "low"]
        required: true
      expected_impact:
        type: string
        required: true
  
  generated_at:
    type: string
    required: true
    format: datetime
    description: Report generation timestamp
```

**Validation Rules**: VR-ANLY-01 (see Validation Rules section)

**Example**:

```yaml
analytics:
  id: "q1-campaign-review"
  type: "campaign"
  entity_id: "q1-foundation"
  period:
    start_date: "2025-01-15"
    end_date: "2025-02-04"
  metrics:
    github_stars: 520
    discord_members: 62
  insights:
    - category: "success"
      insight: "Exceeded GitHub star target by 4%"
      evidence: "520 stars vs 500 target"
  optimizations:
    - recommendation: "Double down on technical blog content"
      priority: "high"
      expected_impact: "2x blog readership"
  generated_at: "2025-02-05T10:00:00Z"
```

---

## Entity Relationships

### Relationship Diagram

```
Project (1)
  ├──> Product (0..*)
  ├──> MarketingPlan (0..*)
  ├──> ContentTemplate (0..*)
  └──> Milestone (0..*)

MarketingPlan (1)
  └──> Campaign (1..*)

Campaign (1)
  ├──> Channel (1..*)
  ├──> Product (0..*)
  └──> Analytics (0..1)

Channel (1)
  └──> Tool (0..1)

Milestone (1)
  ├──> Product (0..*)
  └──> Campaign (0..*)
```

### Key Relationships

1. **Project → Product**: One Project can have multiple Products
2. **Project → MarketingPlan**: One Project can have multiple strategic plans
3. **MarketingPlan → Campaign**: One Plan contains one or more tactical Campaigns
4. **Campaign → Channel**: One Campaign uses one or more distribution Channels
5. **Campaign → Analytics**: One Campaign has one Analytics report (post-execution)
6. **Channel → Tool**: One Channel may have one automation Tool

### Referential Integrity

- `product.project_id` must reference existing `project.name`
- `plan.project_id` must reference existing `project.name`
- `campaign.plan_id` must reference existing `plan.id` (REQUIRED since v0.2.0)
- `campaign.project_id` must reference existing `project.name`
- `campaign.product_ids` must reference existing `product.id` values
- `analytics.entity_id` must reference existing `campaign.id` or `plan.id`

---

## Specification Usage Workflow

### Workflow: SDM (Spec-Driven Marketing)

**Goal**: Guide users to create validated, actionable marketing specifications from discovery to optimization

**Total Steps**: 10

**Workflow Type**: Spec-Driven Marketing (SDM)

**Purpose**: This workflow defines HOW users create and manage marketing specifications using this domain spec. Each step maps 1:1 to a slash command in the marketing-spec-kit toolkit.

---

#### Step 1: Constitution

- **Goal**: Establish marketing project principles and constraints
- **User Action**: Define project-level guidelines (brand voice, budget constraints, prohibited content)
- **Inputs Required**: Marketing domain knowledge, brand guidelines, organizational policies
- **Outputs Created**: `memory/constitution.md` (Part II: Marketing Project Principles)
- **Entities Involved**: `Project` (brand voice, value propositions defined)
- **Quality Criteria**: 5-7 principles defined with clear rationale, constraints documented
- **Command Mapping**: `/marketspec.constitution`
- **Typical Duration**: 15-20 minutes

**Example Output**:
```markdown
## Part II: Marketing Project Principles

1. Brand Voice: Professional yet approachable, technical but accessible
2. Audience First: All content must address primary audience pain points
3. Data-Driven: Every claim must be backed by data or customer evidence
4. Channel Constraints: No TikTok, focus on LinkedIn + technical blogs
5. Budget Discipline: Campaign budgets must not exceed plan allocations
```

---

#### Step 2: Discover

- **Goal**: Identify business objectives, target audience, and initial marketing strategy
- **User Action**: Conduct discovery interview to gather marketing requirements
- **Inputs Required**: Business goals, product information, competitive landscape
- **Outputs Created**: Draft `MarketingPlan` entities (objectives, audience, strategies)
- **Entities Involved**: `MarketingPlan`, `Product` (linked products)
- **Quality Criteria**: 1-5 objectives defined (P0/P1/P2), target audience segments identified, 3-8 strategies outlined
- **Command Mapping**: `/marketspec.discover`
- **Typical Duration**: 30-45 minutes

**Example Output**:
```yaml
marketing_plan:
  id: "q1-2025-product-launch"
  objectives:
    - description: "Increase developer awareness by 50%"
      priority: "P0"
  target_audience:
    primary: "Backend developers (Python/Node.js)"
    secondary: "DevOps engineers"
  strategies:
    - "Technical blog content marketing"
    - "Developer conference sponsorships"
    - "Open-source community engagement"
```

---

#### Step 3: Clarify

- **Goal**: Resolve ambiguities and underspecified areas in the marketing plan
- **User Action**: Answer clarifying questions about budget, timeline, channel preferences, KPIs
- **Inputs Required**: Draft MarketingPlan from Step 2
- **Outputs Created**: Refined `MarketingPlan` with complete details, `checklists/clarifications.md`
- **Entities Involved**: `MarketingPlan` (budget, dates, KPIs finalized), `Channel` (platform decisions)
- **Quality Criteria**: All required fields populated, budget allocated, KPIs measurable, timeline feasible
- **Command Mapping**: `/marketspec.clarify`
- **Typical Duration**: 15-25 minutes

**Example Clarifications**:
```markdown
Q: What's the Q1 budget allocation?
A: $50,000 total: $30k content, $15k events, $5k ads

Q: Which KPIs matter most?
A: Primary: GitHub stars (+500), Secondary: Blog traffic (+30%)

Q: Content publishing frequency?
A: 2 technical blogs/month, 1 case study/quarter
```

---

#### Step 4: Strategy

- **Goal**: Design detailed campaign structure and channel mix
- **User Action**: Break down marketing plan into specific campaigns with channels and tactics
- **Inputs Required**: Clarified MarketingPlan from Step 3
- **Outputs Created**: `Campaign` entities (1-5 campaigns), `Channel` entities for each campaign
- **Entities Involved**: `Campaign`, `Channel`, `ContentTemplate` (if needed)
- **Quality Criteria**: Campaigns align with plan objectives, channel mix appropriate for audience, campaign dates within plan period
- **Command Mapping**: `/marketspec.strategy`
- **Typical Duration**: 25-35 minutes

**Example Output**:
```yaml
campaign:
  id: "q1-technical-content-campaign"
  name: "Developer Education Series"
  plan_id: "q1-2025-product-launch"
  channels:
    - platform: "technical_blog"
      url: "https://blog.example.com"
    - platform: "linkedin_company"
      handle: "@example-dev"
  goals:
    - "Publish 6 technical tutorials"
    - "Achieve 10k blog views"
```

---

#### Step 5: Checklist

- **Goal**: Validate marketing plan completeness and quality
- **User Action**: Review generated quality checklist for the marketing plan
- **Inputs Required**: Complete MarketingPlan with campaigns
- **Outputs Created**: `checklists/marketing-plan-quality.md`
- **Entities Involved**: `MarketingPlan`, `Campaign` (validation)
- **Quality Criteria**: >80% checklist items passing, all critical items addressed
- **Command Mapping**: `/marketspec.checklist`
- **Typical Duration**: 10-15 minutes

**Example Checklist**:
```markdown
Marketing Plan Quality Checklist:

✅ Objectives (5/5)
- [x] P0 objectives clearly defined
- [x] Objectives are SMART (Specific, Measurable, Achievable, Relevant, Time-bound)
- [x] Success metrics identified
- [x] Baseline metrics documented
- [x] Target metrics realistic

✅ Budget (4/4)
- [x] Total budget allocated
- [x] Category breakdown provided
- [x] Campaign budgets sum to total
- [x] Buffer for unexpected costs

⚠️  Campaigns (3/5)
- [x] At least 1 campaign defined
- [x] Campaigns link to objectives
- [ ] All campaigns have complete channel mix
- [ ] Content calendar populated
- [ ] Campaign KPIs defined

Score: 75% (Needs improvement)
```

---

#### Step 6: Tasks

- **Goal**: Break down campaigns into actionable content creation tasks
- **User Action**: Generate task list for campaign execution (content pieces, channel setup, tool integration)
- **Inputs Required**: Validated campaigns from Step 5
- **Outputs Created**: `tasks.md` with concrete action items
- **Entities Involved**: `Campaign`, `Channel`, `ContentTemplate`, `Tool`
- **Quality Criteria**: Each campaign has 3-10 tasks, tasks are specific and actionable, owners assigned
- **Command Mapping**: `/marketspec.tasks`
- **Typical Duration**: 15-20 minutes

**Example Output**:
```markdown
## Campaign Tasks: Developer Education Series

### Content Creation (6 tasks)
1. Write tutorial: "Getting Started with X" (Owner: @alice, Due: 2025-01-15)
2. Create code examples repository (Owner: @bob, Due: 2025-01-10)
3. Design blog header images (Owner: @carol, Due: 2025-01-12)
...

### Channel Setup (3 tasks)
1. Configure LinkedIn posting schedule (Owner: @dave, Due: 2025-01-08)
2. Set up blog analytics tracking (Owner: @eve, Due: 2025-01-05)
3. Integrate MCP server for content publishing (Owner: @frank, Due: 2025-01-10)
```

---

#### Step 7: Analyze

- **Goal**: Check cross-entity consistency and detect potential issues
- **User Action**: Review consistency analysis report
- **Inputs Required**: Complete specification with all entities
- **Outputs Created**: `analysis/consistency-report.md`
- **Entities Involved**: All entities (cross-validation)
- **Quality Criteria**: No critical inconsistencies, warnings addressed, all references valid
- **Command Mapping**: `/marketspec.analyze`
- **Typical Duration**: 10-15 minutes

**Example Analysis**:
```markdown
## Consistency Analysis Report

### ✅ Passed Checks (8)
- Campaign dates within plan period
- Campaign budgets sum to plan budget
- All campaign.plan_id references valid
- Channel platforms match campaign types
- Product references exist
- Milestone dates logical
- Tool configurations complete
- ContentTemplate constraints consistent

### ⚠️  Warnings (2)
- Campaign "Email Nurture" has no KPIs defined
- Channel "Twitter" has no Tool integration (manual posting required)

### ❌ Errors (0)

**Overall Score**: 89/100 (Good)
```

---

#### Step 8: Create

- **Goal**: Generate final validated YAML specification
- **User Action**: Generate complete marketing specification file
- **Inputs Required**: Analyzed and validated entities from Step 7
- **Outputs Created**: `marketing-spec.yaml` (complete specification)
- **Entities Involved**: All 9 entities in final YAML format
- **Quality Criteria**: Valid YAML syntax, passes all 45 validation rules, ready for execution
- **Command Mapping**: `/marketspec.create`
- **Typical Duration**: 5-10 minutes

**Example Output**:
```yaml
# marketing-spec.yaml - Generated by /marketspec.create
specification_version: "0.3.0"
generated_date: "2025-11-17"

project:
  name: "metaspec"
  brand_voice: "Professional yet approachable"
  ...

products:
  - id: "metaspec-core"
    name: "MetaSpec Framework"
    ...

marketing_plans:
  - id: "q1-2025-product-launch"
    ...

campaigns:
  - id: "q1-technical-content-campaign"
    ...

# [All entities included]
```

---

#### Step 9: Review

- **Goal**: Collect execution feedback and performance data post-campaign
- **User Action**: Review campaign execution results and gather learnings
- **Inputs Required**: Executed campaigns with actual performance data
- **Outputs Created**: Updated `Campaign` (actual metrics), initial `Analytics` entity
- **Entities Involved**: `Campaign` (status: completed), `Analytics` (performance data)
- **Quality Criteria**: All KPIs measured, actual vs target comparison complete, execution notes documented
- **Command Mapping**: `/marketspec.review`
- **Typical Duration**: 20-30 minutes

**Example Output**:
```yaml
analytics:
  id: "q1-campaign-review"
  entity_type: "campaign"
  entity_id: "q1-technical-content-campaign"
  analysis_date: "2025-03-31"
  performance_summary:
    - metric: "Blog views"
      target: 10000
      actual: 12500
      status: "success"
    - metric: "GitHub stars"
      target: 500
      actual: 380
      status: "concern"
  insights:
    - type: "success"
      description: "Technical tutorials outperformed by 25%"
    - type: "concern"
      description: "GitHub promotion insufficient"
```

---

#### Step 10: Optimize

- **Goal**: Generate prioritized optimization recommendations for next cycle
- **User Action**: Review AI-generated optimization suggestions
- **Inputs Required**: Analytics from Step 9, historical campaign data
- **Outputs Created**: Complete `Analytics` with optimization recommendations
- **Entities Involved**: `Analytics` (recommendations added), future `MarketingPlan` (informed by insights)
- **Quality Criteria**: 3-10 recommendations generated, prioritized (high/medium/low), actionable for next cycle
- **Command Mapping**: `/marketspec.optimize`
- **Typical Duration**: 15-20 minutes

**Example Output**:
```yaml
analytics:
  # ... (from Step 9)
  optimization_recommendations:
    - priority: "high"
      category: "content"
      recommendation: "Double down on tutorial format: 25% higher engagement"
      rationale: "Tutorial posts averaged 2,000 views vs 1,600 for other formats"
      estimated_impact: "+15% total engagement"
    
    - priority: "high"
      category: "channel"
      recommendation: "Increase GitHub-specific promotion budget by 30%"
      rationale: "Fell short of star target due to underfunding GitHub activities"
      estimated_impact: "+200 stars next quarter"
    
    - priority: "medium"
      category: "audience"
      recommendation: "Expand secondary audience targeting to include frontend devs"
      rationale: "Unexpected 20% traffic from frontend community"
      estimated_impact: "+3,000 monthly visitors"
```

---

### Workflow Summary

**Complete Flow**:
```
constitution → discover → clarify → strategy → checklist
    ↓           ↓          ↓          ↓           ↓
    ↓           ↓          ↓          ↓        [quality gate]
    ↓           ↓          ↓          ↓           ↓
    ↓           ↓          ↓      [design]    tasks → analyze → create
    ↓           ↓       [refine]                      ↓           ↓
    ↓       [draft plan]                          [validate]  [generate]
 [principles]                                         ↓           ↓
                                                      ↓      [execute]
                                                      ↓           ↓
                                                  review ← optimize
                                                      ↓           ↑
                                                      └───────────┘
                                                   [closed loop]
```

**Core Flow** (Required): constitution → discover → strategy → create  
**Quality Gates**: clarify, checklist, analyze  
**Planning**: tasks  
**Optimization Loop**: review → optimize → [next cycle]

**Closed-Loop Marketing**: Each SDM cycle's optimization recommendations inform the next cycle's discovery and strategy, creating continuous improvement.

---

## Entity State Machines

### MarketingPlan Lifecycle

**States**:
- `draft`: Plan being created, not yet complete
- `review`: Under review by stakeholders
- `approved`: Approved for execution
- `active`: Currently executing campaigns
- `completed`: All campaigns finished
- `archived`: Historical record

**Initial State**: `draft`  
**Final States**: `completed`, `archived`

**Allowed Transitions**:

#### `draft` → `review`
- **Trigger**: Plan creator submits for review
- **Precondition**: All required fields complete (objectives, budget, KPIs)
- **Action**: Notify reviewers
- **Postcondition**: Plan status = `review`

#### `review` → `approved`
- **Trigger**: Stakeholders approve
- **Precondition**: Budget allocated, objectives clear
- **Action**: Lock budget and objectives
- **Postcondition**: Plan status = `approved`, ready for campaigns

#### `approved` → `active`
- **Trigger**: First campaign starts (campaign.status = active)
- **Precondition**: At least one campaign exists
- **Action**: Start tracking plan-level KPIs
- **Postcondition**: Plan status = `active`

#### `active` → `completed`
- **Trigger**: All campaigns completed and plan end_date reached
- **Precondition**: All campaigns status = completed or archived
- **Action**: Generate plan-level analytics
- **Postcondition**: Plan status = `completed`

#### `completed` → `archived`
- **Trigger**: Retention period expired or manual archive
- **Precondition**: Plan status = `completed`
- **Action**: Move to archive storage
- **Postcondition**: Plan status = `archived`

**Forbidden Transitions**:
- `active` → `draft` (cannot revert active plan)
- `completed` → `active` (cannot reactivate completed plan)

---

### Campaign Lifecycle

**States**:
- `draft`: Campaign being designed
- `planned`: Campaign fully planned, not yet started
- `active`: Campaign currently running
- `paused`: Campaign temporarily stopped
- `completed`: Campaign finished
- `archived`: Historical record

**Initial State**: `draft`  
**Final States**: `completed`, `archived`

**Allowed Transitions**:

#### `draft` → `planned`
- **Trigger**: Campaign design complete
- **Precondition**: All required fields set, linked to approved plan
- **Action**: Schedule content calendar
- **Postcondition**: Campaign status = `planned`, ready to start

#### `planned` → `active`
- **Trigger**: Campaign start_date reached or manual start
- **Precondition**: start_date arrived, content ready
- **Action**: Begin publishing content, start tracking metrics
- **Postcondition**: Campaign status = `active`, metrics being tracked

#### `active` → `paused`
- **Trigger**: Manual pause (e.g., budget exhausted, issue detected)
- **Precondition**: Campaign status = `active`
- **Action**: Stop content publishing, maintain current metrics
- **Postcondition**: Campaign status = `paused`

#### `paused` → `active`
- **Trigger**: Manual resume
- **Precondition**: Issue resolved, budget available
- **Action**: Resume content publishing
- **Postcondition**: Campaign status = `active`

#### `active` → `completed`
- **Trigger**: Campaign end_date reached or manual completion
- **Precondition**: end_date arrived or early completion decision
- **Action**: Stop content publishing, finalize metrics, trigger analytics
- **Postcondition**: Campaign status = `completed`, analytics generated

#### `completed` → `archived`
- **Trigger**: Retention period expired or manual archive
- **Precondition**: Campaign status = `completed`, analytics generated
- **Action**: Move to archive storage
- **Postcondition**: Campaign status = `archived`

**Forbidden Transitions**:
- `active` → `draft` (cannot revert active campaign)
- `completed` → `active` (cannot reactivate completed campaign)
- `archived` → any state (archived is final)

---

### Milestone Lifecycle

**States**:
- `planned`: Milestone scheduled for future
- `completed`: Milestone occurred
- `cancelled`: Milestone cancelled

**Initial State**: `planned`  
**Final States**: `completed`, `cancelled`

**Allowed Transitions**:

#### `planned` → `completed`
- **Trigger**: Milestone date reached and event occurred
- **Precondition**: Milestone date arrived
- **Action**: Update status, trigger associated campaigns
- **Postcondition**: Milestone status = `completed`

#### `planned` → `cancelled`
- **Trigger**: Manual cancellation (event will not occur)
- **Precondition**: Decision to cancel milestone
- **Action**: Cancel associated campaigns, notify stakeholders
- **Postcondition**: Milestone status = `cancelled`

**Forbidden Transitions**:
- `completed` → `cancelled` (cannot cancel what already happened)
- `cancelled` → `completed` (cannot complete what was cancelled)

---

## Validation Rules

**Total Rules**: 45

### Project (VR-P01 to VR-P06) - 6 rules

- **VR-P01**: `name` is required and must be non-empty string
- **VR-P02**: `tagline` is required and must be ≤100 characters
- **VR-P03**: `brand_voice` must be one of: Technical, Friendly, Professional, Casual, Educational
- **VR-P04**: `target_audience` must have 1-5 items
- **VR-P05**: `value_propositions` must have 1-5 items
- **VR-P06**: `website` must be valid URL format (if provided)

### Product (VR-PR01 to VR-PR05) - 5 rules

- **VR-PR01**: `id` must match pattern `^[a-z0-9-]+$`
- **VR-PR02**: `name` is required
- **VR-PR03**: `project_id` must reference existing project
- **VR-PR04**: `description` must be ≤500 characters
- **VR-PR05**: `key_features` must have ≤10 items (if provided)

### MarketingPlan (VR-PLAN-01 to VR-PLAN-05) - 5 rules

- **VR-PLAN-01**: `period.weeks` must be 4-52 weeks
- **VR-PLAN-02**: `objectives` must have 1-5 items
- **VR-PLAN-03**: `strategies` must have 1-8 items
- **VR-PLAN-04**: `kpis` must have 1-10 items
- **VR-PLAN-05**: `budget.total` must equal sum of `budget.allocation` amounts

### Campaign (VR-C01 to VR-C11) - 11 rules

- **VR-C01**: `id` must match pattern `^[a-z0-9-]+$`
- **VR-C02**: `goal` must be one of: awareness, consideration, conversion, retention
- **VR-C03**: `budget` must be ≥0
- **VR-C04**: `start_date` must be valid date
- **VR-C05**: `end_date` must be ≥ `start_date`
- **VR-C06**: `channels` must have ≥1 item
- **VR-C07**: `status` must be one of: draft, planned, active, paused, completed, archived
- **VR-C08**: `plan_id` must reference existing plan (NEW in v0.2.0 - REQUIRED)
- **VR-C09**: `start_date` must be within plan period
- **VR-C10**: `end_date` must be within plan period and ≥ `start_date`
- **VR-C11**: [WARNING] Sum of campaign budgets should not exceed plan budget

### Channel (VR-CH01 to VR-CH06) - 6 rules

- **VR-CH01**: `id` must match pattern `^[a-z0-9-]+$`
- **VR-CH02**: `type` must be one of: social_media, email, blog, forum, video, podcast
- **VR-CH03**: `platform` is required
- **VR-CH04**: `audiences` must have ≥1 item
- **VR-CH05**: `content_types` must have ≥1 item
- **VR-CH06**: `tool_id` must reference existing tool (if provided)

### Tool (VR-T01 to VR-T06) - 6 rules

- **VR-T01**: `id` must match pattern `^[a-z0-9-]+$`
- **VR-T02**: `type` must be one of: mcp, rest_api, cli
- **VR-T03**: `connection` is required
- **VR-T04**: If `type=mcp`, `connection.server_name` is required
- **VR-T05**: If `type=rest_api`, `connection.base_url` is required
- **VR-T06**: `supported_operations` must have ≥1 item

### ContentTemplate (VR-CT01 to VR-CT05) - 5 rules

- **VR-CT01**: `id` must match pattern `^[a-z0-9-]+$`
- **VR-CT02**: `type` must be one of: social_post, blog_article, email, landing_page, video_script
- **VR-CT03**: `tone` must be one of: technical, friendly, professional, casual, educational
- **VR-CT04**: `style_guidelines` must have ≥1 item
- **VR-CT05**: `project_id` must reference existing project

### Milestone (VR-M01 to VR-M05) - 5 rules

- **VR-M01**: `id` must match pattern `^[a-z0-9-]+$`
- **VR-M02**: `type` must be one of: version_release, announcement, community_event, partnership
- **VR-M03**: `date` must be valid date
- **VR-M04**: `project_id` must reference existing project
- **VR-M05**: `status` must be one of: planned, completed, cancelled

### Analytics (VR-ANLY-01) - 1 rule

- **VR-ANLY-01**: `entity_id` must reference existing campaign or plan

---

## Examples

### Example 1: Complete Marketing Specification

See `examples/complete-example.yaml` for a comprehensive example demonstrating all 9 entities.

### Example 2: MetaSpec Q1 2025 Campaign

See `examples/metaspec-marketing.yaml` for a real-world marketing campaign specification.

### Example 3: SDM Workflow

See `examples/sdm-workflow-example.md` for a complete workflow demonstrating planning, execution, review, and optimization.

---

## Extensibility

### Version Evolution

**Current Version**: 0.3.0 (Development Phase)

**Breaking Changes in v0.2.0**:
- `Campaign.plan_id` is now REQUIRED
- All campaigns must belong to a MarketingPlan

**Semantic Versioning**:
- **0.x.y**: Development phase - breaking changes allowed between releases
- **1.0.0**: First stable release - production-ready, API stability guaranteed
- **x.y.z**: Patch (z), Minor (y), Major (x) - follows semantic versioning

### Extensible Fields

**Enums**: All enum fields can be extended with new values in minor versions without breaking changes.

**Free-form Objects**: Fields like `kpis`, `constraints`, `config` accept arbitrary structures for domain-specific extensions.

### Future Considerations

Potential additions in future versions:
- A/B testing support
- Multi-variant campaigns
- Attribution modeling
- Competitive analysis
- Influencer marketing
- Event tracking
- Customer journey mapping

---

## Quality Validation

This specification is validated against:

- **Constitution Part II**: Specification Design Principles (6 principles)
- **MetaSpec Best Practices**: Entity-First, Validation Completeness, SDS/SDD Separation
- **Domain Fidelity**: Marketing standards (ROAS, CTR, CPM, AIDA funnel)

**Current Quality Score**: 9.5/10 (Excellent)

---

## Notes

### Toolkit Implementation

This domain specification defines **data structures only**. For toolkit commands and workflow guidance, see:

- **Toolkit Specification**: `specs/toolkit/001-marketing-spec-kit-implementation/spec.md` (SDD)
- **SDM Commands**: `templates/sdm/commands/` (10 workflow commands)
- **Command Documentation**: `templates/sdm/README.md`

### Specification Operations

**This domain does NOT define specification operations** because:
- Marketing-spec-kit is NOT an API/Protocol specification
- It is a Speckit (Type B - Workflow-Guidance Toolkit)
- Commands are defined in the toolkit specification (SDD), not here (SDS)

**Refer to**: `specs/toolkit/` for all command definitions.

---

**End of Domain Specification**
